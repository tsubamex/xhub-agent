# xhub-agent configuration file example
# Copy this file to config.yml and modify the values accordingly

# Agent unique identifier (obtained from xhub backend)
uuid: "your-agent-uuid-here"

# 3x-ui login credentials
xui_user: "admin"
xui_pass: "your-3xui-password"

# xhub API key (for data reporting authentication)
xhub_api_key: "your-xhub-api-key"

# xhub gRPC server configuration
grpcServer: "example.com"  # gRPC server address
grpcPort: 443              # gRPC server port (443 for production TLS, 9090 for localhost)

# 3x-ui connection configuration (required)
rootPath: "/xxxx"  # 3x-ui rootPath
port: 12345                      # 3x-ui port number

# DNS resolved domain for subscription reporting
resolvedDomain: "xx.example.com"

# Optional configuration (default values will be used if not set)

# 3x-ui base IP address (default: 127.0.0.1)
xui_base_url: "127.0.0.1"

# Polling interval in seconds (default: 2, optimized for gRPC)
poll_interval: 2

# Log level: debug, info, warn, error (default: info)
log_level: "info"

# Hysteria2 configuration (optional)
# Enable this if you have Hysteria2 running on this server
# hysteria2_enabled: true
# hysteria2_config_path: "/etc/hysteria/config.yaml"  # Path to Hysteria2 config file
# hysteria2_node_name: "Hysteria2节点"                  # Node display name in subscription
# hysteria2_server_addr: "your-domain.com"             # External server address (domain or IP)
# hysteria2_insecure: false                            # Set to true if using self-signed certificates
# Port Hopping - anti-blocking feature (requires iptables setup on server)
# hysteria2_port_hopping: true                         # Enable port hopping
# hysteria2_port_hopping_range: "11223-60000"          # Port range (default: 11223-60000, hysteria2 listen port as start)
